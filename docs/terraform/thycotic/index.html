<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <title>Codebiner </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



    <link rel="apple-touch-icon-precomposed" sizes="57x57" href='https://www.codebiner.com/apple-touch-icon-57x57.png' />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href='https://www.codebiner.com/apple-touch-icon-114x114.png' />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href='https://www.codebiner.com/apple-touch-icon-72x72.png' />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href='https://www.codebiner.com/apple-touch-icon-144x144.png' />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href='https://www.codebiner.com/apple-touch-icon-60x60.png' />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href='https://www.codebiner.com/apple-touch-icon-120x120.png' />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href='https://www.codebiner.com/apple-touch-icon-76x76.png' />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href='https://www.codebiner.com/apple-touch-icon-152x152.png' />
    <link rel="icon" type="image/png" href='https://www.codebiner.com/favicon-196x196.png' sizes="196x196" />
    <link rel="icon" type="image/png" href='https://www.codebiner.com/favicon-96x96.png' sizes="96x96" />
    <link rel="icon" type="image/png" href='https://www.codebiner.com/favicon-32x32.png' sizes="32x32" />
    <link rel="icon" type="image/png" href='https://www.codebiner.com/favicon-16x16.png' sizes="16x16" />
    <link rel="icon" type="image/png" href='https://www.codebiner.com/favicon-128.png' sizes="128x128" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="mstile-310x310.png" />






    <meta name="theme-color" content="#ffffff">

    <link href='https://www.codebiner.com/css/socicon.css' rel="stylesheet" type="text/css" media="all" />
    <link href='https://www.codebiner.com/css/bootstrap.css' rel="stylesheet" type="text/css" media="all" />
    <link href='https://www.codebiner.com/css/stack-interface.css' rel="stylesheet" type="text/css" media="all" />
    <link href='https://www.codebiner.com/css/theme.css' rel="stylesheet" type="text/css" media="all" />
    <link href='https://www.codebiner.com/css/custom.css' rel="stylesheet" type="text/css" media="all" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:200,300,400,400i,500,600,700" rel="stylesheet">

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-126302192-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-126302192-1');
    </script>
</head><body><div class="nav-container">
    <div class="">
        <div class="bar bar--sm visible-xs">
            <div class="container">
                <div class="row">
                    <div class="col-3 col-md-2">
                        <a href="https://www.codebiner.com/"> <img class="logo logo-dark" alt="logo" src='https://www.codebiner.com/img/codebiner_banner.png'>
                            <img class="logo logo-light" alt="logo" src='https://www.codebiner.com/img/codebiner_banner.png'>
                        </a>
                    </div>
                    <div class="col-9 col-md-10 text-right">
                        <a href="#" class="hamburger-toggle" data-toggle-class="#menu1;hidden-xs hidden-sm">
                            <i class="icon icon--sm stack-interface stack-menu"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <nav id="menu1" class="bar bar-1 hidden-xs">
            <div class="container">
                <div class="row">
                    <div class="col-lg-1 col-md-2 hidden-xs">
                        <div class="bar__module">
                            <a href="https://www.codebiner.com/"> <img class="logo logo-dark" alt="logo" src='https://www.codebiner.com/img/codebiner_banner.png'>
                                <img class="logo logo-light" alt="logo" src='https://www.codebiner.com/img/codebiner_banner.png'>
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-11 col-md-12 text-right text-left-xs text-left-sm">
                        <div class="bar__module">

                            

                            

                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>
</div>
        <div class="main-container">


<h1 id="terraform-thycotic-plugin">Terraform Thycotic Plugin</h1>

<p>A Terraform plugin to retrieve secrets from Thycotic Secret Server.</p>

<h2 id="features">Features</h2>

<ul>
<li>Retrieve Secrets/Credentials from Thycotic Secret Server and use them in Terraform projects</li>
<li>Metadata can also be retrieved</li>
<li>Works with Terraform v0.10.x+</li>
<li>Integrates with Thycotic Secret Server on Prem &amp; Cloud</li>
<li>Supports Windows, Linux, macOS</li>
<li>Professional Support</li>
<li>Simple Setup</li>
</ul>

<h2 id="requirements">Requirements</h2>

<ul>
<li><a href="https://www.terraform.io/downloads.html">Terraform</a> 0.10.x</li>
<li><a href="https://thycotic.com/products/secret-server/">Thycotic Secret Server</a> Cloud or On Prem</li>
</ul>

<h2 id="getting-started">Getting Started</h2>

<ul>
<li>Download the latest release for your OS. (Mac, Windows &amp; Linux available)</li>
<li>Copy the binary to your Terraform user plugins directory (<strong>You may need to create this directory</strong>):

<ul>
<li><code>~/.terraform.d/plugins</code> on macOS, Linux</li>
<li><code>&lt;APPLICATION DATA&gt;\terraform.d\plugins</code> on Windows</li>
</ul></li>
<li>Use the provider in your terraform project (copy example code in <code>#Usage</code> section)</li>
<li>Replace <code>server</code> and <code>token</code> with your own credentials. See <code>#Credentials</code> section for more information</li>
</ul>

<h2 id="usage">Usage</h2>

<p>Open (or create) a Terraform project. Add the following lines to configure the provider and retrieve credential data.</p>

<pre><code class="language-hcl">
provider &quot;thycotic&quot; {
    ### required ###
    server = &quot;thycotic.corp.companyname.com&quot;
    token = &quot;XXXXX...XXX:YY...YY&quot;

    ### optional ###
    # domain = &quot;corp.companyname.com&quot; # optional
}


data &quot;thycotic_secret&quot; &quot;myresourcename&quot; {
    # you can retrieve secrets by path or id
    id = &quot;12345&quot;
    # path = &quot;/Personal Folders/username/subfolder/example.com&quot;
}

# this is just for example purposes
output &quot;username_password_data&quot; {
  value = &quot;${data.thycotic_secret.myresourcename.data}&quot;
}

output &quot;individual_field_name_value&quot; {
  value = &quot;${lookup(data.thycotic_secret.myresourcename.data, &quot;username&quot;)}&quot;
}

# output &quot;metadata&quot; {
#   value = &quot;${data.thycotic_secret.myresourcename.metadata}&quot;
# }
</code></pre>

<h2 id="configuration">Configuration</h2>

<h3 id="provider">Provider</h3>

<pre><code class="language-hcl">provider &quot;thycotic&quot; {
    ### required ###
    server = &quot;thycotic.corp.example.com&quot;
    token = &quot;XXXXX...XXX:YY...YY&quot;

    ### optional ###
    # domain = &quot;corp.example.com&quot;
    # version = &quot;~&gt; 1.0&quot; # see https://www.terraform.io/docs/configuration/providers.html#provider-versions
    # alias = &quot;thycotic_prod&quot; # see https://www.terraform.io/docs/configuration/providers.html#multiple-provider-instances
}
</code></pre>

<p>The <code>server</code>, <code>token</code> and <code>domain</code> configuration options can also be specified via environmental variables:</p>

<ul>
<li><strong>THYCOTIC_SERVER</strong></li>
<li><strong>THYCOTIC_TOKEN</strong></li>
<li><strong>THYCOTIC_DOMAIN</strong></li>
</ul>

<p>In the interest of security, It is recommended that you specify the <code>token</code> via environmental variable (<strong>THYCOTIC_TOKEN</strong>).</p>

<p>In additional to the <code>server</code>, <code>token</code> and <code>domain</code> configuration options, this plugin supports the Terraform built-in
<a href="https://www.terraform.io/docs/configuration/providers.html#provider-versions"><code>version</code> constraints</a> and <a href="https://www.terraform.io/docs/configuration/providers.html#multiple-provider-instances"><code>alias</code> system.</a></p>

<h3 id="data-source">Data Source</h3>

<pre><code class="language-hcl">data &quot;thycotic_secret&quot; &quot;example_com_credentials&quot; {
    # `id` or `path` is required
    id = &quot;12345&quot;
    # path = &quot;/Personal Folders/username/subfolder/example.com&quot;

    ### optional ###
    # if you set a alias for the provider, you must reference it in the data source. See https://www.terraform.io/docs/configuration/providers.html#multiple-provider-instances
    # provider = &quot;thycotic.thycotic_prod&quot;
}
</code></pre>

<p>The Terraform plugin for Thycotic Secret Server supports retrieving secrets via 2 methods, <code>id</code> and <code>path</code>.</p>

<p>The secret <code>id</code> can be retrieved by viewing a secret and taking note of the <code>secretid</code> in the url:
<code>https://thycotic.corp.example.com/SecretView.aspx?secretid=12734</code></p>

<p>The secret <code>path</code> can be determined by viewing a secret and joining the <code>Folder</code> and <code>Secret Name</code>.
All backslashes must be replaced by forward slashes.</p>

<pre><code>Folder: \Personal Folders\username\subfolder
Secret Name: example.com

path: /Personal Folders/username/subfolder/example.com
</code></pre>

<h3 id="credentials">Credentials</h3>

<p>A Thycotic Secret Server <code>token</code> can be retrieved by making an API request with your username and password.</p>

<pre><code>curl \
-H &quot;Content-Type: application/x-www-form-urlencoded&quot; \
-d 'username=myusername@corp.example.com&amp;password=mypassword&amp;organization=&amp;domain=' \
--url &quot;https://corp.example.com/webservices/sswebservice.asmx/Authenticate&quot;
</code></pre>

<p>The server will respond with an XML document with the following format:</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;AuthenticateResult xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;urn:thesecretserver.com&quot;&gt;
  &lt;Errors /&gt;
  &lt;Token&gt;AgIClfYD5sUsuxJ0AhYlUqQO1PaFPqcbhIkDLoUIh7u7a4QuCRe82...&lt;/Token&gt;
&lt;/AuthenticateResult&gt;
</code></pre>

<p>Your personal token will be in the <code>&lt;Token&gt;</code> element. Treat it like a password.</p>

<p>This plugin also works with <a href="https://thycotic.com/products/secret-server/secret-server-online/">Thycotic Secret Server Cloud</a> accounts, which are free for up to 250 secrets.</p>

<h2 id="versioning">Versioning</h2>

<p>We use SemVer for versioning.</p>

<h2 id="updates">Updates</h2>

<p>Once new versions are available, you&rsquo;ll be notified via email.</p>

<h2 id="author">Author</h2>

<ul>
<li>Jason Kulatunga</li>
</ul>

<h2 id="license">License</h2>

<p>All Rights Reserved</p>

<footer class="text-center-xs space--xs">
    <div class="container">
        <div class="row">
            <div class="col-sm-7"> <span class="type--fine-print">Â© 2019 Codebiner</span> </div>
            <div class="col-sm-5 text-right text-center-xs">
                <a class="type--fine-print" href="mailto:jason@thesparktree.com">jason@thesparktree.com</a>
            </div>
        </div>
    </div>
</footer>
        </div><script src='https://www.codebiner.com/js/jquery-3.1.1.min.js'></script>
<script src='https://www.codebiner.com/js/parallax.js'></script>
<script src='https://www.codebiner.com/js/smooth-scroll.min.js'></script>
<script src='https://www.codebiner.com/js/scripts.js'></script>


<script src="https://checkout.stripe.com/checkout.js"></script>



<script type="text/javascript">
    window._mfq = window._mfq || [];
    (function() {
        var mf = document.createElement("script");
        mf.type = "text/javascript"; mf.async = true;
        mf.src = "//cdn.mouseflow.com/projects/628c7e75-da84-4009-98dd-1e2f84188f81.js";
        document.getElementsByTagName("head")[0].appendChild(mf);
    })();
</script></body>
</html>
